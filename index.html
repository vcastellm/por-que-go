<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Why Go? - Victor Castell</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h1>¿Why Go?</h1>
          <h3>¿Por qué Go?</h3>
        </section>

        <section>
          <h1><a href="http://victorcastell.com">Victor Castell</a></h1>
          <img class="img" src="me.jpg" />
          <p><small><a href="http://twitter.com/victorcoder">@victorcoder</a></small></p>
        </section>

        <section>
          <h1>Minds behind</h1>
          <h3>Rob Pike: Unix, Plan 9</h2>
          <h3>Ken Thompson: Unix, Plan 9, B and C</h2>
          <h3>Russ Cox: Plan 9, RE2</h3>
          <h3>Robert Griesemer: V8, Java VM</h3>
          <h4>Brad Fitzpatrick, Andrew Gerrand + lots of contributors</h4>
        </section>

        <section>
          <h1>Precedents</h1>
          <h2 class="fragment">Need for high-level programming in Unix</h2>
          <h3 class="fragment">C++ became popular in the industry and research</h3>
          <h2 class="fragment">Java - easy C++</h2>
        </section>

        <section>
          <h1>Consecuences</h1>
          <h2>C++ and Java are hard to use</h2>
          <h3>Verbose and difficult to read, IDE required</h3>
          <h3>We need "patterns" to address it's difficulty</h3>
          <h2>Widely adopted today</h2>
          <h3>Performant</h3>
        </section>

        <section>
          <h1>Reaction</h1>
          <h2>Bad developer experience</h2>
          <small>emerged</small>
          <h3>Python, Ruby, Lua, JavaScript, Erlang</h3>
          <small>beautiful</small>
          <h2>Scala, Haskell</h2>
          <h3>Golden era</h3>
        </section>

        <section>
          <h2>Why this popularity?</h2>
          <h3 class="fragment">Outsiders are dynamic</h3>
          <h2 class="fragment">ease of use != dynamic</h2>
        </section>

        <section>
          <h2>The good</h2>
          <h3>Efficcient, performat and safe</h3>
          <h3>Very powerful in expert hands</h3>
          <h3>Really big systems are built on them</h3>
          <h3>Adapts well to corporate environments: lots of coders, big systems</h3>
        </section>

        <section>
          <h2>The bad</h2>
          <h3>Not developer friendly</h3>
          <h3>Slow compilers and huge binaries</h3>
          <h3>Programmers avoid</h3>
          <h3>Old and not suitted to multicore</h3>
          <h3>JVM have limits in memory management</h3>
        </section>

        <section>
          <h2>Dynamic</h2>
          <h3 class="fragment">Don't have the downsides</h3>
          <h4 class="fragment">Less keystrokes because of dinamyc typing</h4>
          <h2 class="fragment">No compile time</h2>
          <h3 class="fragment">But they also have the "bad":</h3>
          <ul class="fragment">
            <li>Slow</li>
            <li>Not type-safe (static errors occur at runtime)</li>
            <li>Doesn't scale well</li>
            <li>They're also not very modern (+10 years)</li>
          </ul>
          </p>
        </section>

        <section>
          <h2>We need you superman!</h2>
          <img src="superman-squirrel.jpg"/>
        </section>

        <section>
          <h2>We need the good, without the bad, and multicore:</h2>
          <h3>statically typed</h3>
          <h3>fast execution, fast compilers</h3>
          <h3>light and easy to write</h3>
          <h3>fast to work in</h3>
          <h3>scales well</h3>
          <h3>doesn't require tools, but supports them well</h3>
          <h3>good at networking and multiprocessing</h3>
        </section>

        <section>
          <h1>Enter Go</h1>
          <p class="fragment">Fun, efficient and open source</p>
          <p class="fragment">Statically typed and compiled, but it feels lightweight and dynamic</p>
          <p class="fragment">Designed for modern computing (multicore)</p>
          <p class="fragment">Aimed at software such as webservers, but turned out to be a great general-purpose language</p>
        </section>

        <section>
          <h2>Hello World 2.0</h2>
          <pre><code>
          //Serving http://localhost:8080/world:
          package main

          import (
            "fmt"
            "net/http"
            "log"
          )

          func main() {
            http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
              fmt.Fprintf(w, "Hello, %q", r.URL.Path[1:])
            })

            log.Fatal(http.ListenAndServe(":8080", nil))
          }
          </code></pre>
        </section>

        <section>
          <h1>Highlights</h1>

          <div>
            <p>Multiple return values
            <pre><code>
            func foo() int, string {
              return 1, "OK"
            }
            </code></pre>
          </div>

          <div>
            <p>Named return parameters
            <pre><code>
            func foo() (bar int){
              bar = 2+2
              return
            }
            </code></pre>
          </div>
        </section>

        <section>
          <h2>Variadic input parameters</h2>
          <pre><code class="go">
            func Greeting(prefix string, who ...string)
            Greeting("hello:", "Joe", "Anna", "Eileen")
          </code></pre>
          who, will have the value 
          <pre><code>[]string{"Joe", "Anna", "Eileen"}</code></pre>
        </section>

        <section>
          <h2>Supports functional programming<h2>
          <h3>first class functions</h3>
          <h2>user-defined function types</h2>
          <h3>function literals and closures</h3>
        </section>

        <section>
          <h2>Closures are just local functions</h2>
          <pre><code class="go">
            func foo(f func()) {
              x := f()

              func() {
                println(x)
              }()
            }
          </code></pre>
        </section>

        <section>
          <h1>Features</h1>
          <h2>Type inference</h2>
          <pre><code>foo := "This is a string type"</code></pre>
          <h2>Interfaces</h2>
          <pre><code class="go">
            type Foo interface {
              privateMethod() int
              PublicMethod() int
            }
          </code></pre>
        </section>

        <section>
          <h1>Features</h1>
          <h3>Interfaces are satisfied implicitly, every type that implements it's methods is satisfying the interface</h3>
          <h2 class="fragment">This is very powerful!</h2>
        </section>

        <section>
          <h1>Concurrency basics</h1>

            <p class="sup">Start a goroutine
            <pre><code class="go">go f()</code></pre>

            <p>Channel sends
            <pre><code class="go">ch <- value</code></pre>

            <p>Channel receive
            <pre><code class="go">value = <-ch</code></pre>

            <p>Starting a goroutine
            <pre><code class="go">
              func (s *Service) Start() chan request {
                ch := make(chan request)
                go s.serve(ch)  // s.serve runs concurrently
                return ch       // returns immediately
              }
            </code></pre>
        </section>

        <section>
          <h1>Dependency management</h1>

          <p>Dependencies are expressed in source code</p>
          <pre><code class="go">import "github.com/bmizerany/pat"</code></pre>
          <p>Two purposes, import path and library repository</p>
          <p>Just push your code to a public repository</p>
          <p>The "go get" command download and install all rependencies</p>
          <p>Easy to define, easy to use</p>
        </section>


        <section>
          <h1>Other Features</h1>

          <p>Emphasis on simplicity</p>
          <p>Garbage collected</p>
          <p>Memory layout control (pointers but no pointer arithmetic)</p>
          <p>Consistent standard library</p>
          <p>Integrated testing</p>
          <p>Ultra fast compiler (can be used as scripting language)</p>
          <p>Target i386, amd64, arm (Mobile development)</p>
          <h3>But.. as any respected language also has dramas!</h3>
        </section>

        <section>
          <h1>Status</h1>

          <p>Go 1 released 28/03/2012</p>
          <p>Easy installation: Binaries for OSX, Linux, Windows</p>
          <p>Stable, mature and suitable for real world problems</p>
          <p>Used in production at big companies</p>
          <p>Very active community and growing fast</p>
        </section>

        <section>
          <h1>Erlang vs Scala vs Go</h1>
          <p>Erlang and Scala implements the Actor model, Go implements goroutines</p>
          <p>Scala has thread based Actors that are heavyweight</p>
          <p>goroutines are lightweight, threads are heavy</p>
          <p>All three models uses channels for messages</p>	
          <p>In Scala passing around primitive data like integers is expensive because of the JVM legacy</p>
        </section>

        <section>
          <h2>The inevitable comparison</h2>
          <div class="fragment">
            <p>node.js/JS/V8 doesn't have concurrency features but comparable for server programming</p>
            <p>Awesome standard lib but not enought</p>
            <p>Go stdlib, http, templates, websockets, tar/zip, json, xml, sql, smtp, etc...</p>
            <p>node code is by definition non-blocking and asynchronous</p>
            <p>Go let's you write synchronous looking code which behaves like if it were asynchronous, without requiring you to handle the callback spaghetti</p>
            <p>Many libs in Go stdlib are non-blocking</p>
          </div>
        </section>

        <section>
          <h2>The inevitable comparison</h2>
          <p>Fibonacci sequence made by the infamous post <a href="http://teddziuba.com/2011/10/node-js-is-cancer.html">http://teddziuba.com/2011/10/node-js-is-cancer.html</a></p>
          <p>node.js</p>
          <pre><code>
            var http = require('http');

            function fibonacci(n) {
              if (n < 2)
                return 1;
              else
                return fibonacci(n-2) + fibonacci(n-1);
            }

            http.createServer(function (req, res) {
              res.writeHead(200, {'Content-Type' : 'text/plain'});
              res.end(fibonacci(40) + '');
            }).listen(1337);
          </code></pre>
        </section>

        <section>
          <h2>The inevitable comparison</h2>
          <p>Go</p>
          <pre><code class="go">
            package main

            import (
              "fmt"
              "net/http"
              "log"
            )

            func fibonacci(n int) (result int) {
              if n < 2 {
                result = 1
              } else {
                result = fibonacci(n-2) + fibonacci(n-1)
              }
              return
            }

            func main() {
              http.HandleFunc("/", func(w http.ResponseWriter, req *http.Request) {
                w.Write([]byte(fmt.Sprintf("%d", fibonacci(40))))
              })

              log.Fatal(http.ListenAndServe(":8080", nil))
            }
          </code></pre>
        </section>

        <section>
          <img src="superman-meme.jpg"/>
        </section>

        <section>
          <h2>Show me the numbers!</h2>
          <p>node.js 0.10.16</p>
          <pre class="fragment"><code>
          time curl http://localhost:1337
          165580141
          real    0m2.097s
          user    0m0.007s
          sys     0m0.005s
          </pre></code>

          <p>Go 1.2</p>
          <pre class="fragment"><code>
          time curl http://localhost:8080
          165580141
          real    0m1.323s
          user    0m0.007s
          sys     0m0.005s
          </pre></code>
        </section>

        <section>
          <h1>Projects using Go</h1>
        </section>

        <section>
          <h2>Docker</h2>
          <h3>Martini</h3>
          <h2>Vitess<h2>
          <h4>Serf</h4>
          <h3>InfluxDB</h3>
          <h3>Mandala</h3>
        </section>

        <section>
          <h1>Personal</h1>
          <h2>guard-go</h2>
          <h3>Trend</h3>
          <h2>Toukei</h2>
          <h3>HTTP proxies</h3>
          <h2>Elasticsearch indexer</h2>
        </section>

        <section>
          <h1>YOU</h1>

          <h2>More information at <a href="http://golang.org">golang.org</a></h2>
          <h3>Play in the browser <a href="http://play.golang.org">play.golang.org</a></h3>
        </section>

        <section class="slide">
          <h1>Thanks!</h1>
          <h2>@victorcoder</h2>
        </section>
      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: 'custom', // available themes are in /css/theme
        transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
